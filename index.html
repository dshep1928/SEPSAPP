<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SEPS – Structured Execution Prompting System</title>
<style>
body{margin:0;font-family:Arial;background:#0b1020;color:#e9eefc;} .wrap{max-width:900px;margin:auto;padding:20px;} .card{background:#11192e;padding:20px;border-radius:12px;} .screen{display:none;} .screen.active{display:block;} .btn{padding:10px 16px;border:0;border-radius:8px;cursor:pointer;font-weight:bold;} .primary{background:#5b7cfa;color:#fff;} .out{background:#0c1326;padding:12px;border-radius:8px;min-height:140px;margin-top:10px;white-space:pre-wrap;}
.label{margin-top:15px;font-weight:bold;} select,input,textarea{width:100%;padding:8px;margin-top:6px;border-radius:6px;border:1px solid #444;background:#0d152b;color:#fff;}
</style>
</head>
<body>
<div class="wrap">
<h1>SEPS – Structured Execution Prompting System</h1>
<div class="card">

<!-- SCREEN 1 REMOVED: Always Janet -->

<!-- SCREEN 2: RAW DIRECTIVE --> RAW DIRECTIVE -->
<div id="s2" class="screen">
  <div class="label">Directive Intent</div>
  <textarea id="raw"></textarea>

  <div class="label">Target Scope</div>
  <select id="scope">
    <option value="single">Single</option>
    <option value="multiple">Multiple</option>
    <option value="all">All Residents</option>
    <option value="ambient">Ambient</option>
  </select>
  <input id="names" placeholder="Names (if needed)" style="margin-top:8px;" />

  <div class="label">Interpretation Mode</div>
  <select id="interpret">
    <option value="interpret">Interpret Intent</option>
    <option value="literal">Literal Execution</option>
  </select>

  <div class="label">Execution Parameters</div>
  <select id="escalation"><option value="single">Single</option><option value="escalating">Escalating</option></select>
  <select id="aware" style="margin-top:6px;"><option value="unaware">Unaware</option><option value="aware">Aware</option></select>
  <select id="emotion" style="margin-top:6px;"><option value="clarity">Clarity</option><option value="confusion">Confusion</option></select>
  <input type="date" id="untilDate" style="margin-top:6px;" />
  <label><input type="checkbox" id="untilCancel"> Until canceled</label>

  <div class="label">Psych Variables</div>
  <label><input type="checkbox" id="guilt"> Guilt-sensitive</label><br>
  <label><input type="checkbox" id="anx"> Anxiety-sensitive</label><br>
  <label><input type="checkbox" id="comp"> Comparison-sensitive</label><br>
  <label><input type="checkbox" id="dec"> Decision paralysis</label>

  <button class="btn primary" id="gen" style="margin-top:16px;">Generate SEPS Output</button>
</div>

<!-- SCREEN 3: OUTPUT -->
<div id="s3" class="screen">
  <h3>Structured Execution Prompt</h3>
  <div class="out" id="outPrompt"></div>

  <h3>Stability Analysis</h3>
  <div class="out" id="outAnalysis"></div>

  <button class="btn primary" id="simulate" style="margin-top:14px;">Run Simulation</button>
</div>

</div></div>

<script>
function show(id){document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');}

// Auto-start at Janet mode
show('s2');

document.getElementById('gen').onclick=()=>{
  const raw=raw.value.trim();
  let prompt=`Directive: ${raw}

Target Scope: ${scope.value}`;
  if(scope.value!=='ambient') prompt+=`
Names: ${names.value}`;
  prompt+=`
Interpretation: ${interpret.value}
Execution: ${escalation.value}, ${aware.value}, ${emotion.value}`;
  prompt+=`
Duration: ${untilCancel.checked?"Until canceled":untilDate.value}`;

  let psych=[];
  if(guilt.checked) psych.push("guilt-sensitive");
  if(anx.checked) psych.push("anxiety-sensitive");
  if(comp.checked) psych.push("comparison-sensitive");
  if(dec.checked) psych.push("decision-paralysis-prone");
  prompt+=`
Psychology: ${psych.join(', ')||'None'}`;

  outPrompt.textContent=prompt;

  outAnalysis.textContent="• Vague terms clarified.
• No contradictions detected.
• Execution rules stabilized based on SEPS constraints.";

  show('s3');
};

document.getElementById('simulate').onclick=()=>{
  const encoded=encodeURIComponent(outPrompt.textContent);
  window.open("https://chat.openai.com/?q="+encoded, "_blank");
};
</script>
</body>
</html>
