<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SEPS – Structured Ethical Prompting System</title>

<style>
  :root {
    --bg: #0b1020;
    --panel: #161b2e;
    --text: #e9eefc;
    --muted: #9aa4c9;
    --accent: #5b7cfa;
    --warn: #ff7676;
    --good: #7dfaa7;
    --line: rgba(255,255,255,0.1);
  }
  body {
    margin: 0;
    font-family: ui-sans-serif, system-ui, -apple-system;
    background: radial-gradient(1200px 700px at 20% 0%, #1a2d68 0%, var(--bg) 60%);
    color: var(--text);
    padding-bottom: 80px;
  }
  .wrap { max-width: 900px; margin: 0 auto; padding: 24px 16px; }

  h1 { text-align: center; margin-bottom: 0; }
  .sub { text-align: center; color: var(--muted); margin-bottom: 32px; }

  .card {
    background: var(--panel);
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 18px;
    border: 1px solid var(--line);
  }

  label { display: block; font-weight: 600; margin-bottom: 6px; }
  textarea, select {
    width: 100%; padding: 10px; border-radius: 8px;
    background: #0f1424; border: 1px solid var(--line);
    color: var(--text); margin-bottom: 16px;
  }

  button {
    width: 100%; padding: 14px; border-radius: 10px;
    background: var(--accent); color: white; border: none;
    cursor: pointer; margin-top: 6px; font-size: 1rem;
  }
</style>
</head>

<body>
<div class="wrap" id="screen1">
  <h1>SEPS</h1>
  <div class="sub">Structured Ethical Prompting System</div>

  <div class="card" style="text-align:center;">
    <h2>Select System Target</h2>
    <p class="sub">Choose which system SEPS should simulate.</p>

    <button onclick="selectMode('Janet')">Janet (AI Execution System)</button>
    <button onclick="selectMode('Neighborhood')" style="margin-top:12px; background:#7b5bfa;">Neighborhood (Human Psychological System)</button>
  </div>
</div>

<div class="wrap" id="screen2" style="display:none;">
  <button onclick="goBack()" style="margin-bottom:20px; width:auto; padding:8px 16px; background:#444;">⬅ Back</button>
  <h1 id="modeTitle"></h1>
  <div class="sub">Mode Active</div>
  <h1>SEPS</h1>
  <div class="sub">Structured Ethical Prompting System</div>

  <div class="card">
    <h3>Warnings & Recommendations</h3>
    <pre id="warnings"></pre>
  </div>

  <button onclick="openPromptInNewTab()" style="margin-top:20px; background:#5b7cfa;">Open Prompt in New Tab</button>
"></pre>
  </div>
</div>

<script>
function selectMode(mode){
  document.getElementById('screen1').style.display = 'none';
  document.getElementById('screen2').style.display = 'block';
  document.getElementById('modeTitle').innerText = mode + " Mode";
}

function goBack(){
  document.getElementById('screen2').style.display = 'none';
  document.getElementById('screen1').style.display = 'block';
}

function generateSEPS() {
  const goal = document.getElementById("goal").value.trim();
  const type = document.getElementById("goalType").value.trim();
  const boundaries = document.getElementById("boundaries").value.trim();
  const context = document.getElementById("context").value.trim();

  let warnings = [];
  let positives = [];

  if (!goal) warnings.push("Goal is missing or unclear.");
  else if (goal.length < 10) warnings.push("Goal is too short to interpret.");
  else positives.push("Goal has adequate detail.");

  if (!type) warnings.push("Goal type not selected.");
  else positives.push("Goal type adds structure.");

  if (!boundaries) warnings.push("Ethical boundaries are missing.");
  else positives.push("Ethical boundaries defined.");

  if (!context) warnings.push("Psychological context missing.");
  else positives.push("Psychological context improves interpretation.");

  let analysis =
`• Goal: ${goal ? "Provided" : "Missing"}
• Type: ${type || "None"}
• Boundaries: ${boundaries ? "Provided" : "Missing"}
• Context: ${context ? "Provided" : "Missing"}

Positive Notes:
${positives.map(p => "✔ " + p).join("\n")}
`;

  let prompt =
`You are a SEPS-aligned AI.

Goal:
${goal || "[Missing]"}

Goal Type:
${type || "[Missing]"}

Ethical Boundaries:
${boundaries || "[Missing]"}

Psychological Context:
${context || "[Missing]"}

Instructions:
- Interpret the user's goal with clarity and psychological grounding.
- Maintain all ethical boundaries.
- Ask clarifying questions if goal is incomplete.
`;

  let warnOutput = warnings.length
    ? warnings.map(w => "⚠ " + w).join("\n")
    : "No major issues detected.";

  document.getElementById("analysis").innerText = analysis;
  document.getElementById("prompt").innerText = prompt;
  document.getElementById("warnings").innerText = warnOutput;
}
function openPromptInNewTab(){
  const prompt = document.getElementById('prompt').innerText;
  const newWin = window.open('', '_blank');
  newWin.document.write('<pre>' + prompt.replace(/</g,'&lt;') + '</pre>');
}
</script>

</body>
</html>
